<div class="ui segment">
  <div *ngIf="rssCategoryStore.isItemsLoading" class="ui active loader"></div>
  <sm-select class="fluid" placeholder="Choose category" (onChange)="onRssCategoryChange($event)">
    <option *ngFor="let item of (rssCategories | async)" [value]="item?.id">
      {{item?.title}}
    </option>
  </sm-select>
</div>
<div class="ui segment" style="height: 100%;"
        infinite-scroll
        [infiniteScrollDistance]="1"
        [infiniteScrollThrottle]="42"
        [infiniteScrollDisabled]="rssChannelStore.isItemsLoading"
        (scrolled)="onScrollDown()">
  <sm-cards>
    <sm-card *ngFor="let channel of (rssChannels | async)" class="card">
        <card-title> <a [routerLink]="['/rss_channel/' + channel?.slug]">{{channel?.title}}</a> </card-title>
        <card-subtitle> TODO count of posts  </card-subtitle>
        <card-content>
            {{channel?.description}}
        </card-content>
        <app-publisher-subscription-button
          [subscriptionId]="channel?.subscription_id"
          [publisherId]="channel?.id"
          publisherType="RssChannel"
          [subscribed]="channel?.subscribed">
        </app-publisher-subscription-button>
    </sm-card>
  </sm-cards>
</div>
<div class="ui segment" *ngIf="rssChannelStore.isItemsLoading">
  <div class="ui active centered inline loader"></div>
</div>
